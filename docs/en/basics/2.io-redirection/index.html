<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.59.1" />
    <meta name="description" content="Bash notes">
<meta name="author" content="Karl Jahn">

    <link rel="icon" href="/bash-notes/images/favicon.png" type="image/png">

    <title>IO Redirection :: Bash notes</title>

    
    <link href="/bash-notes/css/nucleus.css?1574898972" rel="stylesheet">
    <link href="/bash-notes/css/fontawesome-all.min.css?1574898972" rel="stylesheet">
    <link href="/bash-notes/css/hybrid.css?1574898972" rel="stylesheet">
    <link href="/bash-notes/css/featherlight.min.css?1574898972" rel="stylesheet">
    <link href="/bash-notes/css/perfect-scrollbar.min.css?1574898972" rel="stylesheet">
    <link href="/bash-notes/css/auto-complete.css?1574898972" rel="stylesheet">
    <link href="/bash-notes/css/atom-one-dark-reasonable.css?1574898972" rel="stylesheet">
    <link href="/bash-notes/css/theme.css?1574898972" rel="stylesheet">
    <link href="/bash-notes/css/hugo-theme.css?1574898972" rel="stylesheet">
    
      <link href="/bash-notes/css/theme-green.css?1574898972" rel="stylesheet">
    

    <script src="/bash-notes/js/jquery-3.3.1.min.js?1574898972"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/bash-notes/en/basics/2.io-redirection/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/bash-notes">
  <img
    src="https://raw.githubusercontent.com/odb/official-bash-logo/master/assets/Logos/Icons/PNG/64x64.png"
    alt="Bash logo"
  />
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/bash-notes/js/lunr.min.js?1574898972"></script>
<script type="text/javascript" src="/bash-notes/js/auto-complete.js?1574898972"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kajahno.me\/bash-notes\/\/en";
    
</script>
<script type="text/javascript" src="/bash-notes/js/search.js?1574898972"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/bash-notes/en/basics/" title="Basics" class="dd-item 
        parent
        
        
        ">
      <a href="/bash-notes/en/basics/">
          <b>1. </b>Basics
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/bash-notes/en/basics/1.introduction/" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="/bash-notes/en/basics/1.introduction/">
          Introduction
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/bash-notes/en/basics/2.io-redirection/" title="IO Redirection" class="dd-item 
        parent
        active
        
        ">
      <a href="/bash-notes/en/basics/2.io-redirection/">
          IO Redirection
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/bash-notes/en/basics/3.shell-pipelines/" title="Shell Pipelines" class="dd-item 
        
        
        
        ">
      <a href="/bash-notes/en/basics/3.shell-pipelines/">
          Shell Pipelines
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/bash-notes/en/basics/4.job-management/" title="Job Management" class="dd-item 
        
        
        
        ">
      <a href="/bash-notes/en/basics/4.job-management/">
          Job Management
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/bash-notes/en/basics/5.bash-options/" title="Bash options" class="dd-item 
        
        
        
        ">
      <a href="/bash-notes/en/basics/5.bash-options/">
          Bash options
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/bash-notes/en/basics/6.decision-making/" title="Decision Making" class="dd-item 
        
        
        
        ">
      <a href="/bash-notes/en/basics/6.decision-making/">
          Decision Making
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/bash-notes/en/basics/7.success-or-failure/" title="Success of Failure" class="dd-item 
        
        
        
        ">
      <a href="/bash-notes/en/basics/7.success-or-failure/">
          Success of Failure
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/bash-notes/en/basics/8.variables/" title="Variables" class="dd-item 
        
        
        
        ">
      <a href="/bash-notes/en/basics/8.variables/">
          Variables
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/bash-notes/en/basics/9.bash-scripts/" title="Bash scripts" class="dd-item 
        
        
        
        ">
      <a href="/bash-notes/en/basics/9.bash-scripts/">
          Bash scripts
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/bash-notes/en/reference/" title="Command reference" class="dd-item 
        
        
        
        ">
      <a href="/bash-notes/en/reference/">
          <b>2. </b>Command reference
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/bash-notes/en/reference/io-redirection/" title="io-redirection" class="dd-item 
        
        
        
        ">
      <a href="/bash-notes/en/reference/io-redirection/">
          io-redirection
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://github.com/kajahno/bash-notes"><i class='fab fa-fw fa-github'></i> GitHub repo</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://gohugo.io/"><i class='fas fa-fw fa-bookmark'></i> Hugo Documentation</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://kajahno.me/bash-notes/en/credits"><i class='fas fa-fw fa-bullhorn'></i> Credits</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="https://kajahno.me/bash-notes/en/basics/2.io-redirection/" selected>English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="es" value="https://kajahno.me/bash-notes/es/basics/2.io-redirection/">Espa√±ol</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <center>
  
  <a
    class="github-button"
    href="https://github.com/kajahno/bash-notes/archive/master.zip"
    data-icon="octicon-cloud-download"
    aria-label="Download this repo from GitHub"
    >Download</a
  >

  
  <a
    class="github-button"
    href="https://github.com/kajahno/bash-notes"
    data-icon="octicon-star"
    data-show-count="true"
    aria-label="Star kajahno/bash-notes on GitHub"
    >Star</a
  >

  
  <a
    class="github-button"
    href="https://github.com/kajahno/bash-notes/fork"
    data-icon="octicon-repo-forked"
    data-show-count="true"
    aria-label="Fork kajahno/bash-notes on GitHub"
    >Fork</a
  >

  
  <a
    class="github-button"
    href="https://github.com/kajahno"
    aria-label="Follow @kajahno on GitHub"
    >Follow @kajahno</a
  >

  
  <a
    class="github-button"
    href="https://github.com/kajahno/bash-notes/subscription"
    data-icon="octicon-eye"
    aria-label="Watch kajahno/bash-notes on GitHub"
    >Watch</a
  >

  
  <a
    class="github-button"
    href="https://github.com/kajahno/bash-notes/issues"
    data-icon="octicon-issue-opened"
    aria-label="Issue kajahno/bash-notes on GitHub"
    >Issue</a
  >

  <p>Made by <a href="https://github.com/kajahno">kajahno</a></p>
  <p>Last updated on Nov 27, 2019</p>
</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/kajahno/bash-notes/edit/master/content/basics/2.io-redirection/_index.en.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/bash-notes/en/'>Bash notes</a> > <a href='/bash-notes/en/basics/'>Basics</a> > IO Redirection
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#run-program-with-no-redirection">Run program with no redirection</a></li>
<li><a href="#redirect-standard-output">Redirect standard output</a></li>
<li><a href="#redirect-standard-error">Redirect standard error</a></li>
<li><a href="#redirect-stdout-and-stderr">Redirect stdout and stderr</a></li>
<li><a href="#combine-stdout-and-stderr">Combine stdout and stderr</a></li>
<li><a href="#redirect-stdin">Redirect stdin</a></li>
<li><a href="#redirect-stdin-with-a-heredoc">Redirect stdin with a heredoc</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              IO Redirection
            </h1>
          

        




	


<div class="mermaid" align="center">
graph LR;
    inp[stdin] --> p(program)
    p --> stdout[stdout]
    p --> stderr[stderr]

    classDef middle stroke:#333,stroke-width:4px;
    classDef edge fill:#fff,stroke:#333,stroke-width:0px;
    class p middle;
    class inp edge;
    class stdout edge;
    class stderr edge;
</div>


<p>By convention any shell opens three file descriptors when a program is run:</p>

<ul>
<li><strong>Standard input (stdin)</strong>: feeds the program with data</li>
<li><strong>Standard output (stdout)</strong>: normally prints messages in the terminal</li>
<li><strong>Standard error (stderr)</strong>: normally prints error messages in the terminal (when things fail)</li>
</ul>

<p>These three file descriptors are referred as non-negative integers (defined by the POSIX standard):</p>

<ul>
<li>stdin: 0</li>
<li>stdout: 1 (this is the default)</li>
<li>stderr: 2</li>
</ul>

<p>A very powerful feature of bash (and other shells) is input and output redirection.
If no redirection is specified, by default all three file descriptors are connected to the terminal
(so the information will be displayed)</p>

<h2 id="run-program-with-no-redirection">Run program with no redirection</h2>

<pre><code class="language-bash">$ ls -l
total 4
-rw-rw-r-- 1 vagrant vagrant 7 Nov 24 13:20 myfile
</code></pre>

<h2 id="redirect-standard-output">Redirect standard output</h2>

<pre><code class="language-bash">$ ls -l 1&gt; output
</code></pre>

<p>As you see, nothing was printed. The output has been redirected to the file <code>output</code>.
If we print the content of this file we&rsquo;ll see that indeed the output is there:</p>

<pre><code class="language-bash">$ cat output
total 4
-rw-rw-r-- 1 vagrant vagrant 7 Nov 24 13:20 myfile
</code></pre>

<p>Since the file descriptor 1 is the default file descriptor in bash, we can simple run the following and achieve the same result:</p>

<pre><code class="language-bash">$ ls -l &gt;output
$ cat output
total 4
-rw-rw-r-- 1 vagrant vagrant 7 Nov 24 13:20 myfile
</code></pre>

<h2 id="redirect-standard-error">Redirect standard error</h2>

<p>To redirect the standard error, we first need to create an error:</p>

<pre><code class="language-bash">$ ls --bad-usage
ls: unrecognized option '--bad-usage'
Try 'ls --help' for more information.
</code></pre>

<p>As you see, that option <code>--bad-usage</code> doesn&rsquo;t really form part of the command <code>ls</code>. However, because by default everything is redirected to the terminal, we also see the stderr output.</p>

<p>Let&rsquo;s redirect that to a new file:</p>

<pre><code class="language-bash">$ ls --bad-usage 2&gt; error_output
</code></pre>

<p>Notice how there was nothing printed to the terminal, however by inspecting the content of the file we can confirm that indeed we have successfully redirected stderr:</p>

<pre><code class="language-bash">$ cat error_output
ls: unrecognized option '--bad-usage'
Try 'ls --help' for more information.
</code></pre>

<h2 id="redirect-stdout-and-stderr">Redirect stdout and stderr</h2>

<p>We can combine both output redirections in a single line:</p>

<pre><code class="language-bash">$ ls -l output non-existing-file &gt;newoutput 2&gt;newerr
</code></pre>

<p>Nothing will get printed in the terminal. However by inspecting the content of those two new files <code>newoutput</code> and <code>newerr</code> we can confirm that the redirection took place:</p>

<pre><code class="language-bash">$ cat newoutput
-rw-rw-r-- 1 vagrant vagrant 110 Nov 24 14:14 output
$ cat newerr
ls: cannot access 'non-existing-file': No such file or directory
</code></pre>

<h2 id="combine-stdout-and-stderr">Combine stdout and stderr</h2>

<p>Sometimes is pretty convenient to redirect both <code>stdout</code> and <code>stderr</code> a single file.
This can be achieved with:</p>

<pre><code class="language-bash">$ ls -l output non-existing-file &gt;combined-output 2&gt;&amp;1
</code></pre>

<p>In this case we are explicitly telling bash to combine (or pipe) stderr into stdout.
Inspecting the new file:</p>

<pre><code class="language-bash">$ cat combined-output
ls: cannot access 'non-existing-file': No such file or directory
-rw-rw-r-- 1 vagrant vagrant 110 Nov 24 14:14 output
</code></pre>


<div class="notices note" ><p>A shorthand for this syntax is: <code>ls -l output non-existing-file &amp;&gt;combined-output</code></p>
</div>


<h2 id="redirect-stdin">Redirect stdin</h2>

<p>For this we need to make sure the program we use supports stdin.</p>

<p>The program <code>wc</code> prints words, lines, and the byte count of the specified input. For example:</p>

<pre><code class="language-bash">$ wc combined-output
  2  18 118 combined-output
</code></pre>

<p><code>wc</code> is using the input file specified as argument. Running <code>wc</code> with no arguments, and typing manually:</p>

<pre><code class="language-bash">$ wc
this is a test
second line
[CRTL+d]
      2       6      27
</code></pre>

<p>Will produce the output base on what was specified in stdin. We use CRTL+d to indicate the end of input. In this occasion, of course, <code>wc</code> is reading directly from stdin.</p>

<p>Now if we were to redirect stdin, and specify a file as input instead of manually typing the content, we can by running:</p>

<pre><code class="language-bash">$ wc &lt;combined-output
  2  18 118
</code></pre>

<h2 id="redirect-stdin-with-a-heredoc">Redirect stdin with a heredoc</h2>

<p>When redirecting stdin we also have a way to explicitly specify the input, with a custom delimiter (not the interactive <code>CTRL-d</code>)</p>

<p>This can be achieved with the following:</p>

<pre><code class="language-bash">$ wc &lt;&lt;delimiter
&gt; this is a test
&gt; with a custom delimiter
&gt; delimiter
 2  8 39
</code></pre>

<p>In this case the <code>delimiter</code> will only act as such if it&rsquo;s the only word in a line of input. This way of redirecting is called here document or heredoc.</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/bash-notes/en/basics/1.introduction/" title="Introduction"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/bash-notes/en/basics/3.shell-pipelines/" title="Shell Pipelines" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/bash-notes/js/clipboard.min.js?1574898972"></script>
    <script src="/bash-notes/js/perfect-scrollbar.min.js?1574898972"></script>
    <script src="/bash-notes/js/perfect-scrollbar.jquery.min.js?1574898972"></script>
    <script src="/bash-notes/js/jquery.sticky.js?1574898972"></script>
    <script src="/bash-notes/js/featherlight.min.js?1574898972"></script>
    <script src="/bash-notes/js/highlight.pack.js?1574898972"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/bash-notes/js/modernizr.custom-3.6.0.js?1574898972"></script>
    <script src="/bash-notes/js/learn.js?1574898972"></script>
    <script src="/bash-notes/js/hugo-learn.js?1574898972"></script>

    <link href="/bash-notes/mermaid/mermaid.css?1574898972" rel="stylesheet" />
    <script src="/bash-notes/mermaid/mermaid.js?1574898972"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    
<script
  async
  src="https://www.googletagmanager.com/gtag/js?id=UA-128617327-2"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());

  gtag("config", "UA-128617327-2");
</script>

  </body>
</html>
